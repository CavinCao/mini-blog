<view class="padding-sm">
  <form bindsubmit="formSubmit">
    <view wx:for="{{configs}}" wx:key="index" class="cu-card dynamic no-card margin-bottom-sm">
      <view class="cu-item shadow">
        <view class="cu-bar bg-white solid-bottom">
          <view class="action">
            <text class="cuIcon-titles text-orange"></text> 活动组 {{index + 1}}
          </view>
          <view class="action">
            <button class="cu-btn bg-red sm" bindtap="clearConfig" data-index="{{index}}">清空</button>
          </view>
        </view>
        <view class="cu-form-group">
          <view class="title">标题</view>
          <input placeholder="请输入活动标题" name="title_{{index}}" value="{{item.title}}" bindinput="onInput" data-index="{{index}}" data-field="title"></input>
        </view>
        <view class="cu-form-group">
          <view class="title">图片链接</view>
          <input placeholder="请输入图片URL" name="image_url_{{index}}" value="{{item.image_url}}" bindinput="onInput" data-index="{{index}}" data-field="image_url"></input>
          <button class="cu-btn bg-blue shadow sm" bindtap="chooseImage" data-index="{{index}}">上传</button>
        </view>
        <view class="cu-form-group">
          <view class="title">跳转链接</view>
          <input placeholder="请输入跳转URL (如: ../detail/detail?id=xxx)" name="jump_url_{{index}}" value="{{item.jump_url}}" bindinput="onInput" data-index="{{index}}" data-field="jump_url"></input>
        </view>
        <view wx:if="{{item.image_url}}" class="padding-sm bg-white flex justify-center">
          <image src="{{item.image_url}}" mode="aspectFit" style="max-height: 200rpx; width: 100%;"></image>
        </view>
      </view>
    </view>

    <view class="padding flex flex-direction">
      <button form-type="submit" class="cu-btn bg-green lg shadow">保存配置</button>
    </view>
  </form>
</view>

